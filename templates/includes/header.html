
{% load static i18n %}

<header class="header">
    <div class="header-container">
        <div class="logo">
            <img src="{% static 'images/logo.png' %}" alt="NovaHaus Logo" style="height: 150px; width: auto;">
        </div>
        <div class="content">
            <h1 class="page-title">NovaHaus</h1>
            {% if LANGUAGE_CODE == 'de' %}
                <p class="subtitle">Zuverl√§ssigkeit, Qualit√§t und Termine garantiert</p>
            {% elif LANGUAGE_CODE == 'en' %}
                <p class="subtitle">Reliability, quality and deadlines guaranteed</p>
            {% elif LANGUAGE_CODE == 'ru' %}
                <p class="subtitle">–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å, –∫–∞—á–µ—Å—Ç–≤–æ –∏ —Å—Ä–æ–∫–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã</p>
            {% elif LANGUAGE_CODE == 'tr' %}
                <p class="subtitle">G√ºvenilirlik, kalite ve s√ºreler garanti</p>
            {% else %}
                <p class="subtitle">Zuverl√§ssigkeit, Qualit√§t und Termine garantiert</p>
            {% endif %}

            <nav class="desktop-nav">
                <ul>
                    {% if LANGUAGE_CODE == 'de' %}
                        <li><a href="{% url 'home' %}" class="nav-link">Startseite</a></li>
                        <li><a href="{% url 'services' %}" class="nav-link">Leistungen</a></li>
                        <li><a href="{% url 'portfolio' %}" class="nav-link">Portfolio</a></li>
                        <li><a href="{% url 'blog' %}" class="nav-link">Blog</a></li>
                        <li><a href="{% url 'contact' %}" class="nav-link">Kontakt</a></li>
                        <li><a href="{% url 'register_partner' %}" class="nav-link partner-link">Partner werden</a></li>
                    {% elif LANGUAGE_CODE == 'en' %}
                        <li><a href="{% url 'home' %}" class="nav-link">Home</a></li>
                        <li><a href="{% url 'services' %}" class="nav-link">Services</a></li>
                        <li><a href="{% url 'portfolio' %}" class="nav-link">Portfolio</a></li>
                        <li><a href="{% url 'blog' %}" class="nav-link">Blog</a></li>
                        <li><a href="{% url 'contact' %}" class="nav-link">Contact</a></li>
                        <li><a href="{% url 'register_partner' %}" class="nav-link partner-link">Become Partner</a></li>
                    {% elif LANGUAGE_CODE == 'ru' %}
                        <li><a href="{% url 'home' %}" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="{% url 'services' %}" class="nav-link">–£—Å–ª—É–≥–∏</a></li>
                        <li><a href="{% url 'portfolio' %}" class="nav-link">–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ</a></li>
                        <li><a href="{% url 'blog' %}" class="nav-link">–ë–ª–æ–≥</a></li>
                        <li><a href="{% url 'contact' %}" class="nav-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                        <li><a href="{% url 'register_partner' %}" class="nav-link partner-link">–°—Ç–∞—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º</a></li>
                    {% elif LANGUAGE_CODE == 'tr' %}
                        <li><a href="{% url 'home' %}" class="nav-link">Ana Sayfa</a></li>
                        <li><a href="{% url 'services' %}" class="nav-link">Hizmetler</a></li>
                        <li><a href="{% url 'portfolio' %}" class="nav-link">Portf√∂y</a></li>
                        <li><a href="{% url 'blog' %}" class="nav-link">Blog</a></li>
                        <li><a href="{% url 'contact' %}" class="nav-link">ƒ∞leti≈üim</a></li>
                        <li><a href="{% url 'register_partner' %}" class="nav-link partner-link">Ortak Ol</a></li>
                    {% endif %}
                </ul>
            </nav>
        </div>
        <div class="language-switcher">
            <div class="language-buttons">
                <button class="lang-btn {% if LANGUAGE_CODE == 'de' %}active{% endif %}" onclick="switchLanguage('de')">üá©üá™ DE</button>
                <button class="lang-btn {% if LANGUAGE_CODE == 'en' %}active{% endif %}" onclick="switchLanguage('en')">üá¨üáß EN</button>
                <button class="lang-btn {% if LANGUAGE_CODE == 'ru' %}active{% endif %}" onclick="switchLanguage('ru')">üá∑üá∫ RU</button>
                <button class="lang-btn {% if LANGUAGE_CODE == 'tr' %}active{% endif %}" onclick="switchLanguage('tr')">üáπüá∑ TR</button>
            </div>
        </div>
    </div>
</header>

<style>
.language-buttons {
    display: flex;
    gap: 5px;
}
.lang-btn {
    padding: 8px 12px;
    border: 1px solid #ddd;
    background: white;
    border-radius: 4px;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
}
.lang-btn:hover {
    background-color: #f5f5f5;
}
.lang-btn.active {
    background-color: #007bff;
    color: white;
    border-color: #007bff;
}
</style>

<script>
function switchLanguage(targetLang) {
    console.log('Sprachwechsel zu:', targetLang);

    // Cookie setzen
    document.cookie = `django_language=${targetLang}; path=/; max-age=${60*60*24*30}`;

    let currentPath = window.location.pathname;
    let newPath;

    // Entferne alle Sprachpr√§fixe
    if (currentPath.startsWith('/de/') || currentPath.startsWith('/en/') ||
        currentPath.startsWith('/ru/') || currentPath.startsWith('/tr/')) {
        currentPath = currentPath.substring(3);
    }

    // F√ºr Deutsch (Standardsprache) - kein Pr√§fix
    if (targetLang === 'de') {
        newPath = currentPath || '/';
    } else {
        // F√ºr andere Sprachen - Pr√§fix hinzuf√ºgen
        newPath = '/' + targetLang + currentPath;
    }

    // Sicherstellen dass Pfad korrekt ist
    if (newPath === '//') newPath = '/';

    console.log('Neue URL:', newPath);

    // Zur neuen URL navigieren
    window.location.href = newPath;
}
</script>