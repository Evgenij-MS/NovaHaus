{% load static i18n %}

<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>{% block title %}{% trans "NovaHaus – Your Trusted Renovation Partner" %}{% endblock %}</title>
    <meta name="description" content="{% block description %}{% trans "Professional renovation in Cologne and Hamburg with eco-friendly materials." %}{% endblock %}">
    <meta name="keywords" content="{% block keywords %}{% trans "renovation, Cologne, Hamburg, eco-friendly, NovaHaus, apartment renovation, office renovation, eco-materials" %}{% endblock %}">
    <meta name="author" content="NovaHaus">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="{% trans "NovaHaus – Renovation Experts" %}">
    <meta property="og:description" content="{% trans "Transforming spaces with quality and eco-friendliness in Cologne and Hamburg." %}">
    <meta property="og:image" content="{% static 'images/logo.png' %}">
    <meta property="og:url" content="{% if request.get_host == 'novahaus-hamburg.de' or request.get_host == 'www.novahaus-hamburg.de' %}https://www.novahaus-hamburg.de{% else %}https://www.novahaus-koeln.de{% endif %}">
    <meta property="og:type" content="website">

    <!-- PWA -->
    <link rel="manifest" href="{% static 'manifest.json' %}">
    <meta name="theme-color" content="#005B99">
    <link rel="apple-touch-icon" href="{% static 'images/favicon/apple-touch-icon.png' %}">

    <!-- CSS -->
    <link rel="stylesheet" href="{% static 'css/reset.css' %}">
    <link rel="stylesheet" href="{% static 'css/global.css' %}">
    <link rel="stylesheet" href="{% static 'css/header.css' %}">
    <link rel="stylesheet" href="{% static 'css/buttons.css' %}">
    <link rel="stylesheet" href="{% static 'css/forms.css' %}">
    <link rel="stylesheet" href="{% static 'css/cards.css' %}">
    <link rel="stylesheet" href="{% static 'css/slider.css' %}">
    <link rel="stylesheet" href="{% static 'css/footer.css' %}">
    <link rel="stylesheet" href="{% static 'css/chatbot.css' %}">
    <link rel="stylesheet" href="{% static 'fontawesome/css/all.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/media-queries.css' %}">
    <link rel="stylesheet" href="{% static 'css/pannellum.css' %}">

    <!-- Favicon -->
    <link rel="shortcut icon" href="{% static 'images/favicon/favicon.ico' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'images/favicon/favicon-16x16.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'images/favicon/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="96x96" href="{% static 'images/favicon/favicon-96x96.png' %}">
    <link rel="icon" type="image/svg+xml" href="{% static 'images/favicon/favicon.svg' %}">

    <!-- Google Analytics -->
    {% if request.get_host == "novahaus-hamburg.de" or request.get_host == "www.novahaus-hamburg.de" %}
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-19RQG7TDMC"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-19RQG7TDMC', {
        'linker': {
          'domains': ['novahaus-hamburg.de', 'novahaus-koeln.de']
        }
      });
    </script>
    {% elif request.get_host == "novahaus-koeln.de" or request.get_host == "www.novahaus-koeln.de" %}
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BS4J4PD0WF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-BS4J4PD0WF', {
        'linker': {
          'domains': ['novahaus-hamburg.de', 'novahaus-koeln.de']
        }
      });
    </script>
    {% endif %}

    <!-- JSON-LD: LocalBusiness -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "@id": "https://www.novahaus-hamburg.de/#business",
      "name": "NovaHaus",
      "image": "{% static 'images/logo.png' %}",
      "description": "{% trans "Renovation company in Cologne and Hamburg. Apartments, offices, facades." %}",
      "address": [
        {
          "@type": "PostalAddress",
          "streetAddress": "Musterstraße 123",
          "addressLocality": "{% trans "Cologne" %}",
          "postalCode": "50667",
          "addressCountry": "DE"
        },
        {
          "@type": "PostalAddress",
          "streetAddress": "Beispielweg 456",
          "addressLocality": "{% trans "Hamburg" %}",
          "postalCode": "20354",
          "addressCountry": "DE"
        }
      ],
      "telephone": "+49 155 100 718 48",
      "url": "{% if request.get_host == 'novahaus-hamburg.de' or request.get_host == 'www.novahaus-hamburg.de' %}https://www.novahaus-hamburg.de{% else %}https://www.novahaus-koeln.de{% endif %}",
      "sameAs": [
        "https://www.instagram.com/novahaus",
        "https://www.facebook.com/novahaus",
        "https://www.linkedin.com/company/novahaus"
      ],
      "openingHours": "Mo-Fr 08:00-18:00",
      "priceRange": "$$"
    }
    </script>

    <!-- JSON-LD: BreadcrumbList -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "{% trans "Home" %}",
          "item": "{% if request.get_host == 'novahaus-hamburg.de' or request.get_host == 'www.novahaus-hamburg.de' %}https://www.novahaus-hamburg.de{% else %}https://www.novahaus-koeln.de{% endif %}"
        }
        {% block breadcrumbs %}
        {% endblock %}
      ]
    }
    </script>
</head>
<body>
    {% block extra_context %}
        {% url 'home' as url_home %}
        {% url 'services' as url_services %}
        {% url 'portfolio' as url_portfolio %}
        {% url 'blog' as url_blog %}
        {% url 'about' as url_about %}
        {% url 'contact' as url_contact %}
        {% url 'register_partner' as url_register_partner %}
    {% endblock %}

    {% include 'includes/header.html' %}

    <!-- Добавляем переключатель языка -->
    <div class="language-switcher">
        <form method="POST" action="{% url 'set_language' %}">
            {% csrf_token %}
            <input type="hidden" name="language" value="en">
            <button type="submit">English</button>
        </form>
        <form method="POST" action="{% url 'set_language' %}">
            {% csrf_token %}
            <input type="hidden" name="language" value="de">
            <button type="submit">Deutsch</button>
        </form>
        <form method="POST" action="{% url 'set_language' %}">
            {% csrf_token %}
            <input type="hidden" name="language" value="tr">
            <button type="submit">Türkçe</button>
        </form>
        <form method="POST" action="{% url 'set_language' %}">
            {% csrf_token %}
            <input type="hidden" name="language" value="ru">
            <button type="submit">Русский</button>
        </form>
    </div>

    <main>
        {% block content %}
        {% endblock %}
    </main>

    {% include 'includes/footer.html' %}

    <button id="theme-toggle" class="theme-toggle-btn" aria-label="{% trans 'Switch Theme' %}">
        <i class="fas fa-moon"></i>
        <span class="theme-toggle-text">{% trans "Dark Theme" %}</span>
    </button>

    <!-- JavaScript -->
    <script src="{% static 'js/scripts.js' %}"></script>
    <script src="{% static 'js/slider.js' %}"></script>
    <script src="{% static 'js/language.js' %}"></script>
    <script src="{% static 'js/chatbot.js' %}"></script>
    <script src="{% static 'js/pannellum.js' %}"></script>
    <script src="{% static 'js/pannellum-custom.js' %}"></script>
    <script src="{% static 'js/visualization.js' %}" defer></script>
    <script src="{% static 'js/service-worker.js' %}" defer></script>
</body>
</html>